<html>

<head>
    <title>Elm!</title>
    <script src="bin\main.js" charset="utf-8"></script>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <script>
        const storedState = localStorage.getItem('model');
        startingState = storedState ? JSON.parse(storedState) : null;
        if (startingState && (!startingState.version || (startingState.version && startingState.version != "1"))) {
            startingState = null;
        }
        try {
            elmApp = Elm.Main.fullscreen(startingState);
        }
        catch (e) {
            throw "it caught!";
        }
        elmApp.ports.setStorage.subscribe(function (state) {
          localStorage.setItem('model', JSON.stringify(state));
        })
    </script>
</body>

</html>